<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thulane Nonyane Studios</title>

    <!-- AdMob SDK (for Mobile Web) -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-app-pub-7221396727211259/9461089485",
            enable_page_level_ads: true
        });
    </script>

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #000;
            color: #fff;
            text-align: center;
        }
        video {
            width: 85%;
            height: auto;
            margin-top: 20px;
            border: 5px solid #444;
            border-radius: 10px;
            filter: brightness(1.5) contrast(2) saturate(2.5) drop-shadow(0 0 10px #000);
            will-change: transform, opacity;
            transition: all 0.4s ease-in-out;
            object-fit: cover;  /* Ensures clear scaling of video */
        }
        video:hover {
            transform: scale(1.02);
            filter: brightness(1.6) contrast(2.3) saturate(3);
        }
        input, select, button {
            margin: 15px 5px;
            padding: 10px 15px;
            font-size: 16px;
            border-radius: 5px;
            border: 1px solid #ccc;
            background-color: #222;
            color: #fff;
            cursor: pointer;
        }
        button:hover, input:hover {
            background-color: #444;
        }
        h1 {
            margin-top: 20px;
        }
        #pdfContent {
            margin: 20px auto;
            text-align: left;
            max-width: 80%;
            background-color: #111;
            padding: 20px;
            border-radius: 10px;
            overflow: auto;
            height: 300px;
        }
        #volumeControl {
            margin-top: 20px;
            width: 80%;
        }
        #loadingContainer {
            text-align: center;
            margin-top: 30px;
        }
        #loadingText {
            font-size: 20px;
            margin-bottom: 10px;
        }
        #progressBar {
            width: 100%;
            height: 20px;
            background-color: #444;
            border-radius: 10px;
            margin: 10px 0;
        }
        #progress {
            height: 100%;
            background-color: #76b852;
            border-radius: 10px;
            width: 0%;
        }
    </style>
</head>
<body>
    <h1>Thulane Nonyane Studios</h1>
    
    <!-- Banner Ad -->
    <div style="margin-bottom: 20px;">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-app-pub-7221396727211259/9461089485"
             data-ad-slot="1234567890" 
             data-ad-format="auto"></ins>
    </div>
    
    <!-- Video Upload Section -->
    <label for="videoUpload">Upload a Video:</label>
    <input type="file" id="videoUpload" accept="video/mp4, video/webm, video/ogg" onchange="loadUploadedVideo(event)">
    <br><br>

    <!-- Enhanced Video Player -->
    <video id="videoPlayer" controls>
        <source id="videoSource" src="example-video.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    
    <!-- Volume Control -->
    <label for="volumeControl">Volume Control (Up to 400 times):</label>
    <input type="range" id="volumeControl" min="0" max="1" step="0.01" value="1" onchange="adjustVolume(event)">
    
    <br>
    <!-- Translation Controls -->
    <label for="language">Select Translation Language:</label>
    <select id="language" onchange="loadPdf()">
        <option value="Japanese.pdf">Japanese</option>
        <option value="Russian.pdf">Russian</option>
        <option value="Chinese.pdf">Chinese</option>
        <option value="French.pdf">French</option>
    </select>
    <br>
    <div id="pdfContent">Select a language to view its dictionary.</div>
    <br>
    <button onclick="startTranslation()">Start Real-Time Translation</button>
    <button onclick="stopTranslation()">Stop Translation</button>

    <!-- Loading Container -->
    <div id="loadingContainer" style="display: none;">
        <div id="loadingText">Member of the Nonyane Family...</div>
        <div id="progressBar">
            <div id="progress"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist/build/pdf.min.js"></script>
    <script>
        // Function to load PDF based on selected language
        function loadPdf() {
            const language = document.getElementById('language').value;
            const pdfContent = document.getElementById('pdfContent');
            const loadingContainer = document.getElementById('loadingContainer');
            const progressBar = document.getElementById('progress');

            // Show loading bar
            loadingContainer.style.display = 'block';
            let progress = 0;

            const loadingTask = pdfjsLib.getDocument(language);
            loadingTask.promise.then((pdf) => {
                let textContent = '';
                let pagePromises = [];

                for (let i = 1; i <= pdf.numPages; i++) {
                    pagePromises.push(
                        pdf.getPage(i).then((page) => {
                            return page.getTextContent().then((text) => {
                                text.items.forEach((item) => {
                                    textContent += item.str + ' ';
                                });
                                // Update progress bar
                                progress += (1 / pdf.numPages) * 100;
                                progressBar.style.width = progress + '%';
                            });
                        })
                    );
                }

                Promise.all(pagePromises).then(() => {
                    pdfContent.textContent = textContent;
                    setTimeout(() => {
                        // Redirect after 2 seconds
                        window.location.href = "https://your-new-page-url.com";
                    }, 2000);
                });
            }).catch((error) => {
                pdfContent.textContent = "Error loading PDF. Make sure the file exists and is in the correct directory.";
                console.error(error);
            });
        }

        // Translation logic (same as before)
        const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
        const synth = window.speechSynthesis;
        let translating = false;

        function startTranslation() {
            const language = document.getElementById('language').value;
            translating = true;
            recognition.lang = 'en-US';
            recognition.interimResults = false;

            recognition.onresult = async (event) => {
                const speechText = event.results[0][0].transcript;
                const translatedText = await translateText(speechText, language);

                if (translating) {
                    const utterance = new SpeechSynthesisUtterance(translatedText);
                    utterance.lang = language;
                    synth.speak(utterance);
                }
            };

            recognition.start();
        }

        function stopTranslation() {
            translating = false;
            recognition.stop();
        }

        async function translateText(text, targetLanguage) {
            const response = await fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(text)}&langpair=en|${targetLanguage}`);
            const data = await response.json();
            return data.responseData.translatedText;
        }

        // Function to handle video upload and display
        function loadUploadedVideo(event) {
            const videoPlayer = document.getElementById('videoPlayer');
            const videoSource = document.getElementById('videoSource');
            const file = event.target.files[0];

            if (file) {
                const objectURL = URL.createObjectURL(file);
                videoSource.src = objectURL;
                videoPlayer.load();
            }
        }

        // Function to adjust video volume
        function adjustVolume(event) {
            const videoPlayer = document.getElementById('videoPlayer');
            // Adjust volume, setting it to the range value (0 - 1)
            videoPlayer.volume = event.target.value;
        }
    </script>
</body>
    </html>
